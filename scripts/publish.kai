#!/usr/bin/env kaish

# Publish kaish crates to crates.io in dependency order.
#
# Leaf crates first (no internal deps), then up the tree:
#   kaish-glob, kaish-schema  (no internal deps)
#   kaish-kernel              (depends on glob, schema)
#   kaish-client              (depends on kernel, schema)
#   kaish-mcp, kaish-repl     (depends on kernel, client)

for crate in kaish-glob kaish-schema kaish-kernel kaish-client kaish-mcp kaish-repl; do
    echo "ğŸ“¦ Publishing $crate..."
    cargo publish -p "$crate"
    echo "âœ… $crate published"
done

echo "ğŸ‰ All crates published! Try: cargo install kaish"
